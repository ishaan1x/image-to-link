<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Image Upload Widget</title>
</head>
<body>
  <h3>Upload your image</h3>
  <input type="file" id="fileInput" accept="image/*" />
  <button id="uploadBtn">Upload</button>

  <div id="status"></div>
  <div id="preview"></div>

<script>
const cloudName = "YOUR_CLOUD_NAME";      // अपनी Cloudinary cloud name डालो
const uploadPreset = "YOUR_UPLOAD_PRESET"; // unsigned upload preset name

document.getElementById('uploadBtn').addEventListener('click', async () => {
  const fileInput = document.getElementById('fileInput');
  if (!fileInput.files || fileInput.files.length === 0) { alert('Select a file'); return; }
  const file = fileInput.files[0];
  const url = `https://api.cloudinary.com/v1_1/${cloudName}/image/upload`;

  const formData = new FormData();
  formData.append('file', file);
  formData.append('upload_preset', uploadPreset);

  document.getElementById('status').innerText = 'Uploading...';

  try {
    const res = await fetch(url, { method: 'POST', body: formData });
    const data = await res.json();
    if (data.secure_url) {
      document.getElementById('status').innerHTML = 'Upload successful! Direct URL:<br><input style="width:100%" value="'+data.secure_url+'" />';
      document.getElementById('preview').innerHTML = '<img src="'+data.secure_url+'" style="max-width:300px;margin-top:10px" />';
    } else {
      document.getElementById('status').innerText = 'Upload failed: ' + JSON.stringify(data);
    }
  } catch (err) {
    document.getElementById('status').innerText = 'Error: ' + err.message;
  }
});
</script>
</body>
  </html>

